<ui:composition template ="/WEB-INF/templates/plantilla.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">ACOES - BECAS</ui:define>
    <ui:define name="contenido">
        <h1>Lista de becas</h1>
        <h:form>
            <h:dataTable id="Becas" value="#{CtlBeca.listaBecas}" var="lb" border="1">
            
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="ID Beca"/>
                    </f:facet>
                    <h:outputText value="#{lb.idBeca}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="ID Joven"/>
                    </f:facet>
                    <h:outputText value="#{lb.jovenIdJoven.idJoven}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Joven"/>
                    </f:facet>
                    <h:outputText value="#{lb.jovenIdJoven.nombre}"/>
                    <h:outputText value=" "/>
                    <h:outputText value="#{lb.jovenIdJoven.apellidos}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Tipo de Beca"/>
                    </f:facet>
                    <h:outputText value="#{lb.tipo}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Fecha de petición"/>
                    </f:facet>
                    <h:outputText value="#{lb.fechaPeticion}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Fecha resolución"/>
                    </f:facet>
                    <h:outputText value="#{lb.fechaResolucion}"/>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Estado"/>
                    </f:facet>
                    <h:outputText value="#{lb.estado}"/>
                </h:column>
                
                <c:if test="#{ctlAutorizacion.usuario.rol == 'ADMINISTRADOR'}">
                    
                    
                        <h:column>
                    
                            <h:commandLink value="Aceptar" disabled="#{!CtlBeca.checkEnEspera(lb)}"  action="#{CtlBeca.aceptarSolicitud(lb)}"/> 
                
                        </h:column>
                        <h:column>
                            <h:commandLink value="Rechazar" disabled="#{!CtlBeca.checkEnEspera(lb)}" action="#{CtlBeca.rechazarSolicitud(lb)}"/> 
                 
                        </h:column>
                                    
                    
                </c:if>
                
            </h:dataTable>
  
        </h:form>
    </ui:define>
</ui:composition>